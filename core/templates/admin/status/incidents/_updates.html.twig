{% set statusStyles = {
    'investigating': 'bg-amber-100 text-amber-700',
    'identified': 'bg-indigo-100 text-indigo-700',
    'monitoring': 'bg-sky-100 text-sky-700',
    'resolved': 'bg-emerald-100 text-emerald-700'
} %}

<div class="divide-y divide-slate-100">
    {% for update in updates %}
        <div class="px-6 py-4">
            <div class="flex items-center justify-between">
                <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold {{ statusStyles[update.status]|default('bg-slate-100 text-slate-600') }}">
                    {{ update.status|capitalize }}
                </span>
                <span class="text-xs text-slate-700">{{ update.created_at|date('Y-m-d H:i') }}</span>
            </div>
            <p class="mt-3 text-sm text-slate-700">{{ update.message }}</p>
            {% if update.created_by is defined %}
                <p class="mt-2 text-xs text-slate-600">Posted by {{ update.created_by }}</p>
            {% endif %}
        </div>
    {% else %}
        <div class="px-6 py-8 text-center text-sm text-slate-700">No updates yet. Post the first update to keep customers informed.</div>
    {% endfor %}
</div>
