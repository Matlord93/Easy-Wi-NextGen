{% if timeline is empty %}
    <div class="rounded-lg border border-dashed border-slate-200 bg-slate-50 p-6 text-sm text-slate-600">
        Noch keine Aktivit√§ten vorhanden.
    </div>
{% else %}
    <div class="activity-timeline">
        {% for item in timeline %}
            <div class="activity-item">
                <div class="activity-item__header">
                    <div>
                        <p class="text-xs font-semibold uppercase text-slate-500">{{ item.label }}</p>
                        <p class="text-sm text-slate-900">{{ item.status|capitalize }}</p>
                    </div>
                    <div class="text-xs text-slate-500">
                        {{ item.created_at|date('Y-m-d H:i') }}
                    </div>
                </div>
                {% if item.error_code %}
                    <p class="activity-item__meta text-xs text-rose-600">Error Code: {{ item.error_code }}</p>
                {% endif %}
                {% if item.logs is not empty %}
                    <div class="activity-item__logs">
                        {% for log in item.logs|slice(-6) %}
                            <p><span>{{ log.created_at|date('H:i:s') }}</span> {{ log.message }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
                {% if item.result_output is not empty %}
                    <pre class="activity-item__output">{{ item.result_output|json_encode(constant('JSON_PRETTY_PRINT')) }}</pre>
                {% endif %}
            </div>
        {% endfor %}
    </div>
{% endif %}
