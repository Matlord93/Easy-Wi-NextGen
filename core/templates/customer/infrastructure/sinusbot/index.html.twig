{% extends 'customer/base.html.twig' %}

{% set activeNav = 'sinusbot' %}
{% set pageTitle = 'SinusBot' %}
{% set pageSubtitle = 'Gleiche Struktur wie TeamSpeak, mit Bot-spezifischen Aktionen.' %}
{% set topbarActions = [
    { label: 'Bot bestellen', href: '#', variant: 'primary', size: 'sm' },
    { label: 'Instanzen', href: '#', variant: 'secondary', size: 'sm' }
] %}

{% block content %}
    {% embed 'components/_card.html.twig' with { title: 'Deine SinusBots', subtitle: 'Status, Instanzen und Kerninfos wie im alten Flow.' } %}
        {% block card_body %}
            {% if instances is not empty %}
                <div class="ng-server-list">
                    {% for instance in instances %}
                        {% include 'components/_serverRow.html.twig' with {
                            title: instance.name,
                            subtitle: 'Instanz-ID: ' ~ instance.instanceId,
                            status: instance.running ? 'Online' : 'Offline',
                            statusTone: instance.running ? 'success' : 'neutral',
                            meta: [
                                { label: 'Node', value: instance.node.name },
                                { label: 'Web Port', value: instance.webPort }
                            ],
                            actions: []
                        } %}
                    {% endfor %}
                </div>
            {% else %}
                <p class="text-sm text-slate-600">Aktuell sind keine SinusBots f√ºr dein Konto vorhanden.</p>
            {% endif %}
        {% endblock %}
    {% endembed %}
{% endblock %}
