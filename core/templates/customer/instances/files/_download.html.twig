{% set status = status|default('queued') %}

<div>
    {% if status in ['queued', 'running'] %}
        <span
            class="text-xs text-slate-600"
            hx-get="{{ path('customer_instance_files_download_status', {id: instanceId, jobId: jobId}) }}"
            hx-trigger="load, every 2s"
            hx-swap="outerHTML"
        >
            {{ t('customer_instance_files_download_preparing', page_locale()) }} {{ name }}
        </span>
    {% elseif status in ['failed', 'cancelled'] %}
        <span class="text-xs text-rose-600">{{ error|default(t('customer_instance_files_download_failed', page_locale())) }}</span>
    {% else %}
        <div class="flex flex-wrap items-center gap-2 text-xs text-emerald-700">
            <span>{{ t('customer_instance_files_download_ready', page_locale()) }} {{ name }}</span>
            <a href="{{ path('customer_instance_files_download_file', {id: instanceId, jobId: jobId}) }}" class="rounded-lg bg-indigo-600 px-3 py-1 text-xs font-semibold text-white hover:bg-indigo-700">{{ t('customer_instance_files_download_now', page_locale()) }}</a>
        </div>
    {% endif %}
</div>
